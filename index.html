<html>
    <title>Test Application</title>
    
        <script>
    const actions = [
        {
            name: "Paleto Bay Shipyard",
            action: {type: "setWaypoint", x: 407, y: 7227},
        }
    ];

    for (const action of actions) {
        const wrapper = document.createElement("div");
        wrapper.style.position = "absolute";
        wrapper.style.top = "100px";  // Starting position
        wrapper.style.left = "100px";

        const button = document.createElement("button");
        button.textContent = action.name;
        button.onclick = () => {
            window.parent.postMessage(action.action, "*");
        };

        wrapper.appendChild(button);
        document.body.appendChild(wrapper);

        // Add drag functionality
        let isDragging = false;
        let offsetX, offsetY;

        wrapper.addEventListener("mousedown", (e) => {
            isDragging = true;
            offsetX = e.clientX - wrapper.offsetLeft;
            offsetY = e.clientY - wrapper.offsetTop;
            wrapper.style.zIndex = 1000;
        });

        document.addEventListener("mousemove", (e) => {
            if (isDragging) {
                wrapper.style.left = `${e.clientX - offsetX}px`;
                wrapper.style.top = `${e.clientY - offsetY}px`;
            }
        });

        document.addEventListener("mouseup", () => {
            isDragging = false;
            wrapper.style.zIndex = "";
        });
    }
</script>

    <style>
        summary {
            background-color: white;
        }
        table {
            border: 1px solid black;
            background-color: white;
        }
        th {
            background-color: #f1f1f1;
            border: 1px solid black;
        }
    </style>
</html>
